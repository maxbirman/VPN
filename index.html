<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="functions.js"></script>
    <script src="variables.js"></script>
    <script src="aux_functions.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <title>Configurador de Túnel VPN</title>
</head>
<body>
    <div class="container p-3 col-9">
        <form id="vpnForm">			
            <div class="form-group">
                <div class="row border rounded p-3 formDiv" id="contacto">
                    <div class="bg-black text-white">
                        <h3>Informaci&oacute;n de contacto</h3>			
                    </div>
                    <div class="row mb-1 mt-3">
                        <div class="col-6">
                            <div class="row">
                                <div class="col-3 mt-2 float-right">
                                    <label for="reference" id="referenceLabel" name="referenceLabel">
                                        Referencia
                                    </label>
                                </div>
                                <div class="col-9">    
                                    <input type="number" class="form-control" id="reference" name="reference" placeholder="Referencia (sólo números)" required>
                                </div>                                               
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="row">
                                <div class="col-3 mt-2 float-right">
                                    <label for="contactName" id="contactNameLabel" name="contactNameLabel">
                                        Nombre
                                    </label>
                                </div>
                                <div class="col-9">
                                    <input type="text" class="form-control" id="contactName" name="contactName" placeholder="Nombre de Contacto" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1 mt-3">
                        <div class="col-6">
                            <div class="row">
                                <div class="col-3 mt-2 float-right">
                                    <label for="phone" id="phoneLabel" name="phoneLabel">
                                        Tel&eacute;fono
                                    </label>
                                </div>
                                <div class="col-9">    
                                    <input type="tel" class="form-control" id="phone" name="reference" placeholder="Telefono" required>
                                </div>                                               
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="row">
                                <div class="col-3 mt-2 float-right">
                                    <label for="email" id="emailLabel" name="emailLabel">
                                        Correo Electr&oacute;nico
                                    </label>
                                </div>
                                <div class="col-9">
                                    <input type="text" class="form-control" id="email" name="email" placeholder="Correo Electrónico" required>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row border rounded p-3 formDiv" id="general" style="display: none;">
                    <div class="bg-black text-white">
                        <h3>General</h3>			
                    </div>
                    <div class="row mb-1 mt-3">
                        <div class="col-6">
                            <div class="row">
                                <div class="col-4 mt-2 float-right">
                                    <label for="vpnName" id="vpnNameLabel" name="vpnNameLabel">
                                        Nombre de VPN
                                    </label>
                                </div>
                                <div class="col-8">    
                                    <input type="text" class="form-control" id="vpnName" name="vpnName" maxlength="16" placeholder="Nombre de VPN (máximo 15 caracteres)" required>
                                </div>                                               
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row border rounded p-3 formDiv" id="network" style="display:none">
                    <div class="bg-black text-white">
                        <h3>Network</h3>			
                    </div>
                    <div class="mb-1">	
                        <div class="row mt-3">	
                            <div class="col-2 pt-2">
                                <label>Interface</label>
                            </div>
                            <div class="col-5">
                                <select name="deviceModel" class="form-control" id="deviceModel">
                                    <option value="" disabled selected="selected">--Seleccione el modelo del dispositivo--</option>										
                                </select>									
                            </div>						
                            <div class="col-5">									
                                <select class="form-control" name="interface" id="interface" disabled>
                                    <option value="" disabled selected="selected">--Seleccione una interface--</option>
                                </select>
                            </div>
                        </div>
                    </div>	
                    <div class="mb-1">
                        <div class="row">	
                            <div class="col-2 pt-2">
                                <label>IP P&uacute;blica</label>
                            </div>
                            <div class="col-5">
                                <input type="text" class="form-control" id="publicaLocal" aria-describedby="emailHelp" placeholder="IP P&uacute;blica Local" required>
                            </div>
                            <div class="col-5">
                                <input type="text" class="form-control" id="publicaRemota" aria-describedby="emailHelp" placeholder="IP P&uacute;blica Remota" required>
                            </div>
                        </div>
                    </div>	
                    <div class="mb-1">	
                        <div class="row">	
                            <div class="col-3">
                                <div class="row p-3">
                                    <div class="col-6">
                                        <label>NAT Traversal</label>
                                    </div>
                                    <div class="col-6">
                                        <input class="form-check-input" type="checkbox" id="natTraversal">
                                    </div>
                                </div>
                            </div>								
                            <div class="col-4">
                                <div class="row p-3">
                                    <div class="col-6">
                                        <label>Keepalive Frequency</label>
                                    </div>	
                                    <div class="col-6">
                                        <input type="number" class="form-control" id="keepAlive" name="keepAlive" min="5" max="8900" value="8600" required>
                                    </div>
                                </div>
                            </div>	
                            <div class="col-4">
                                <div class="row p-3">
                                    <div class="col-6">
                                        <label>Dead Peer Detection</label>
                                    </div>
                                    <div class="col-6">
                                        <select class="form-control" id="deadPeerDetection" name="deadPeerDetection">
                                            <option value="disable">Disable</option>
                                            <option value="on-idle">On Idle</option>
                                            <option value="on-demand">On Demand</option>
                                        </select>
                                    </div>
                                </div>
                            </div>			
                        </div>
                    </div>
                <div class="row mt-3" id="buttons">					
					<div class="col-1">
						<button type="button" id="anterior" data-message="general" class="btn btn-primary" style="display: none" onclick="Anterior(this)">Anterior</button>
					</div>
					<div class="col-10">
					</div>
					<div class="col-1">	
						<button type="button" id="siguiente" data-message="contacto" class="btn btn-primary" style="float: right;" onclick="Siguiente(this)"  disabled>Siguiente</button>
					</div>
				</div>				
				</div>
            </div>
        </form>
    </div>

</body>
<script>
    $(document).ready(function () {
                
        //asigna funcion a evento onInput en todos los inputs que tenga atributo required
        $('.formDiv input[required]').on('input', function() {
            var divId = $(this).closest('.formDiv').attr('id');
            verificarCamposCompletos(divId, $("#siguiente"));
            alertCharLimit($(this));
        });

    }); 
</script>      	
</html>